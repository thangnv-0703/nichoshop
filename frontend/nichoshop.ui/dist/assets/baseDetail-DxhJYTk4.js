import{d as i,aY as s}from"./index-BQF3oZCt.js";const o=i({name:"BaseDetail",data(){return{model:null,loadEditData:null,editMode:this.$attrs.editMode,toast:s()}},async created(){this.editMode===this.$nicho.enumeration.editMode.Edit&&this.$attrs.record&&(this.model=this.$attrs.record),this.loadEditData&&this.getEditData()},computed:{entityErrors(){return this.$store.state[this.module].error}},mounted(){},watch:{entityErrors:function(t){}},methods:{onSubmit({valid:t}){t&&this.save()},async save(){let t=this.model;t=this.customParam(t);let e=null;switch(this.editMode){case this.$nicho.enumeration.editMode.Add:e=await this.$store.dispatch(`${this.module}/createItem`,t);break;case this.$nicho.enumeration.editMode.Edit:e=await this.$store.dispatch(`${this.module}/updateItem`,t);break}e!=null&&e.data&&(this.$attrs.close(),this.toast.add({severity:"success",summary:"Thành công",detail:"Lưu thành công!",group:"tc",life:3e3}))},customParam(t){return t},async getEditData(){await this.$store.dispatch(`${this.module}/getItem`),this.model=this.$store.state[this.module].item}}});export{o as b};
