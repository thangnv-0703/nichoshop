import{s as V}from"./index-L-PgQcJD.js";import{u as U,b as m,h as C,_ as F,o as a,K as d,m as l,f as r,a as i,p as f,t as c,O as x,c as S,g as D,F as T,s as z,r as L}from"./index-BQF3oZCt.js";import{s as B}from"./index-CgxLEuey.js";import{z as G,a as p,s as K}from"./index-AwnFXGMv.js";import{s as q}from"./index-DslA2m8G.js";import{A as j}from"./AuthLayout-D68JWZu3.js";import{b as I}from"./baseDetail-DxhJYTk4.js";import"./index-s1Sp5cz9.js";const M={extends:I,components:{AuthLayout:j},setup(){const{proxy:g}=C(),e=U(),_=m({personal:0,bussiness:1});m(_.value.personal);const o=m({UserName:null,PhoneNumber:null,Password:null});return{resolver:m(G(p.object({userName:p.string({required_error:"Không được để trống"}),phoneNumber:p.string({required_error:"Không được để trống"}).regex(/^84(?:3[2-9]|5[689]|7[06-9]|8[1-9]|9[0-9])\d{7}$/,{message:"Số điện thoại không đúng dịnh dạng"}),password:p.string({required_error:"Không được để trống"}).min(3,{message:"Ít nhất chứa 3 ký tự."}).refine(t=>/[a-z]/.test(t),{message:"Phải chứa chữ cái in thường."}).refine(t=>/[A-Z]/.test(t),{message:"Phải chứa chữ cái in hoa."})}))),onClickGoToLoginPage:()=>{e.push("/login")},onFormSubmit:async({valid:t})=>{if(!t)return;await g.$store.dispatch("moduleUser/signup",{UserName:o.value.UserName,PhoneNumber:o.value.PhoneNumber,Password:o.value.Password})&&e.push("/login")},model:o,module:"moduleUser"}}},R={class:"flex flex-col gap-4"},O={class:"flex flex-col gap-1"},Z={class:"flex flex-col gap-1"},H={class:"flex flex-col gap-1"},J={class:"flex items-center justify-center"};function Q(g,e,_,o,y,P){const h=q,u=K,t=B,v=z,E=V,w=L("auth-layout");return a(),d(w,{title:"Đăng ký"},{default:l(()=>[e[5]||(e[5]=r("p",{class:"text-2xl py-6 w-full"},"Đăng ký",-1)),i(E,{resolver:o.resolver,onSubmit:o.onFormSubmit,class:"flex flex-col gap-4 w-full"},{default:l(n=>{var b,N,k;return[r("div",R,[r("div",O,[i(h,{name:"UserName",type:"text",modelValue:o.model.UserName,"onUpdate:modelValue":e[0]||(e[0]=s=>o.model.UserName=s),placeholder:"Tên đăng nhập"},null,8,["modelValue"]),(b=n.userName)!=null&&b.invalid?(a(),d(u,{key:0,severity:"error",size:"small",variant:"simple"},{default:l(()=>{var s;return[f(c((s=n.userName.error)==null?void 0:s.message),1)]}),_:2},1024)):x("",!0)]),r("div",Z,[i(h,{name:"phoneNumber",modelValue:o.model.PhoneNumber,"onUpdate:modelValue":e[1]||(e[1]=s=>o.model.PhoneNumber=s),type:"text",placeholder:"Số điện thoại"},null,8,["modelValue"]),(N=n.phoneNumber)!=null&&N.invalid?(a(),d(u,{key:0,severity:"error",size:"small",variant:"simple"},{default:l(()=>{var s;return[f(c((s=n.phoneNumber.error)==null?void 0:s.message),1)]}),_:2},1024)):x("",!0)]),r("div",H,[i(t,{name:"password",modelValue:o.model.Password,"onUpdate:modelValue":e[2]||(e[2]=s=>o.model.Password=s),placeholder:"Nhập mật khẩu",feedback:!1,fluid:"",toggleMask:""},null,8,["modelValue"]),(k=n.password)!=null&&k.invalid?(a(!0),S(T,{key:0},D(n.password.errors,(s,A)=>(a(),d(u,{key:A,severity:"error",size:"small",variant:"simple"},{default:l(()=>[f(c(s.message),1)]),_:2},1024))),128)):x("",!0)])]),i(v,{type:"submit",severity:"danger",label:"Tạo tài khoản"}),r("div",J,[e[4]||(e[4]=r("p",{class:"text-[#81818F]"},"Đã có tài khoản?",-1)),r("p",{class:"text-[#ee4d2d] ml-[4px] cursor-pointer",onClick:e[3]||(e[3]=(...s)=>o.onClickGoToLoginPage&&o.onClickGoToLoginPage(...s))},c(g.$t("i18nAuth.Login")),1)])]}),_:1},8,["resolver","onSubmit"])]),_:1})}const te=F(M,[["render",Q]]);export{te as default};
